<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>jenkins</title>

        <meta name="description" content="Vagrant - 20140726 - Penguins Unbound">
        <meta name="author" content="Richard Isaacson">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="/css/reveal.min.css">
        <link rel="stylesheet" href="/css/theme/default.css" id="theme">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="/lib/css/zenburn.css">

                <!-- If the query includes 'print-pdf', include the PDF print sheet -->
                <script>
                        if( window.location.search.match( /print-pdf/gi ) ) {
                                var link = document.createElement( 'link' );
                                link.rel = 'stylesheet';
                                link.type = 'text/css';
                                link.href = '/css/print/pdf.css';
                                document.getElementsByTagName( 'head' )[0].appendChild( link );
                        }
                </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">


                <section>

                    <section>

                        <h1>Vagrant</h1>
                        <p>
                            Richard Isaacson / richard.c.isaacson@gmail.com</small>
                        </p>
                        <p>
                            <a href="http://github.com/risaacson/presentations">http://github.com/risaacson/presentations</a>
                        </p>
                        <p>
                            <a href="http://presentations.recycledthoughts.org">http://presentations.recycledthoughts.org</a>
                        </p>

                   </section>

                    <section>

                        <h2>whoami</h2>
                        <ul>
                              <li>Senior Software Engineer at White House Custom Color(WHCC)</li>
                              <li>(also Systems Engineer, Software/Systems Archictect, QA Engineer, Release Engineer)</li>
                            <li>former Senior Sotware Engineer at Ansible</li>
                            <li>former Support Engineer at Eucalyptus</li>
                            <li>former Senior Sotware Engineer at Digital River</li>
                            <li>former Senior Systems Engineer at Digital River</li>
                          </ul>

                    </section>

                    <section>

                        <ul>
                              <li>Richard Isaacson (richard.c.isaacson@gmail.com)</li>
                            <li>github.com: <a href="https://github.com/risaacson">@risaacson</a></li>
                            <li>twitter: <a href="https://twitter.com/beldurnik">@beldurnik</a></li>
                        </ul>

                    </section>

                    <section>

                       <h3>to run the demos. . .</h3>
                       <h4>install these:</h4>
                       <ul>
                           <li>VirtualBox</li>
                           <li>Ansible</li>
                           <li>Vagrant</li>
                       </ul>

                    </section>

                </section>


                <section>

                    <h2>goals</h2>
                    <ul>
                        <li>Meet Vagrant <small>( introduction )</small></li>
                        <li>VagrantCloud</li>
                        <li>How I use Vagrant <small>( lazy )</small></li>
                        <li>Hello, Vagrant! <small>( clich√©? )</small></li>
                        <li>Hello, Vagrants!</li>
                        <li>Picking and Packing Boxes</li>
                        <li>Something More Complex</li>
                        <li>Beyond Vagrant</li>
                    </ul>

                </section>


                <section>

                    <section>

                        <h1>Meet Vagrant</h1>
                        <p>
                            <a href="http://www.vagrantup.com/">http://www.vagrantup.com/</a>
                        </p>

                    </section>

                    <section>

                        <p>
                            <pre>
                                <code data-trim contenteditable>
vagrant init hashicorp/precise64
vagrant up
vagrant ssh -c hostname
vagrant destroy -f
                               </code>
                           </pre>
                       </p>
                       <h3>Demo 1</h3>
                       <p>
                           <pre>
                               <code data-trim contendeditable>
cd Demo1
bash ./run_demo.sh
                               </code>
                           </pre>
                       </p>

                   </section>

                   <section>

                       <blockquote cite="https://en.wikipedia.org/wiki/Vagrant_(software)">
&ldquo;Vagrant is free and open-source software for creating and configuring virtual development environments. It can be considered a wrapper around virtualization software such as VirtualBox and configuration management software such as Chef, Salt and Puppet.&rdquo;
                       </blockquote>
                       -Wikipedia

                   </section>

                   <section>

                        <ul>
                            <li>CLI</li>
                            <li>Linux / Mac OS X / Windows</li>
                            <li>Ruby</li>
                            <li>Single Machine</li>
                            <li>Multi Machine</li>
                            <br />
                            <li>configure via Vagrantfile</li>
                        </ul>

                    </section>

                    <section>

                        <h2><a href="http://docs.vagrantup.com/v2/providers/index.html">Providers</a></h2>
                        <ul>
                            <li><a href="http://docs.vagrantup.com/v2/virtualbox/index.html">VirtualBox</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/vmware/index.html">VMware</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/docker/index.html">Docker</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/hyperv/index.html">Hyper-V</a></li>
                            <li><a href="https://github.com/mitchellh/vagrant-aws">vagrant-aws</a></li>
                            <li><a href="http://github.com/mitchellh/vagrant-rackspace">vagrant-rackspace</a></li>
                            <li><a href="https://github.com/pradels/vagrant-libvirt">vagrant-libvirt</a></li>
                            <li>etc. via <a href="https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins">vagrant plugins</a></li>
                        </ul>

                    </section>

                    <section>

                        <h2><a href="http://docs.vagrantup.com/v2/provisioning/index.html">Provisioning</a></h2>
                        <ul>
                            <li><a href="http://docs.vagrantup.com/v2/provisioning/file.html">File</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/provisioning/shell.html">Shell</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/provisioning/ansible.html">Ansible</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/provisioning/cfengine.html">CFengine</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/provisioning/chef_solo.html">Chef Solo</a>/<a href="http://docs.vagrantup.com/v2/provisioning/chef_client.html">Client</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/provisioning/docker.html">Docker</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/provisioning/puppet_apply.html">Puppet Apply</a>/<a href="http://docs.vagrantup.com/v2/provisioning/puppet_agent.html">Agent</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/provisioning/salt.html">Salt</a></li>
                            <li>etc. via <a href="https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins">vagrant plugins</a></li>
                        </ul>

                    </section>

                    <section>

                        <h2><a href="http://docs.vagrantup.com/v2/boxes.html">Boxes</a></h2>
                        <ul>
                            <li><q cite="http://docs.vagrantup.com/v2/boxes.html">&ldquo;Boxes are the package format for Vagrant environments.&rdquo;</q></li>
                            <li><q cite="http://docs.vagrantup.com/v2/boxes.html">&ldquo;A box can be used by anyone on any platform that Vagrant supports to bring up an identical working environment.&rdquo;</q></li>
                            <br />
                            <li>Boxes are the templates that we clone to create our VMs</li>
                        </ul>

                    </section>

                    <section>

                        <h2><a href="http://docs.vagrantup.com/v2/networking/index.html">Networking</a></h2>
                        <ul>
                            <li><a href="">Multiple Networks</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/networking/forwarded_ports.html">Forwarded Ports</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/networking/private_network.html">Private Network</a></li>
                            <li><a href="http://docs.vagrantup.com/v2/networking/public_network.html">Public Network</a></li>
                        </ul>

                    </section>

                    <section>

                        <h1><a href="http://docs.vagrantup.com/v2/vagrantfile/index.html">Vagrantfile</a></h1>
                        <ul>
                            <li>configuration for a Vagrant project</li>
                            <li>Ruby</li>
                            <li>single or multiple hosts</li>
                        </ul>

                    </section>

                    <section>

                        <h2>Other Features (outside scope)</h2>
                        <ul>
                            <li><a href="http://docs.vagrantup.com/v2/synced-folders/index.html">Synced Folders</a></li>
                            <ul>
                                <li>NFS</li>
                                <li>rsync</li>
                                <li>SMB</li>
                                <li>VirtualBox Share</li>
                            </ul>
                        </ul>

                    </section>

                    <section>

                        <h3>Prep Demo 5</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
cd Demo5
bash ./run_demo.sh
                                </code>
                            </pre>
                        </p>

                    </section>

                </section>


                <section>

                    <section>

                        <h1>Vagrant Cloud</h1>
                        <p>
                            <a href="https://vagrantcloud.com">https://vagrantcloud.com</a>
                        </p>

                    </section>

                    <section>

                        <ul>
                            <li>Vagrant Share</li>
                            <li>Box Distribution</li>
                            <li>Box Discovery</li>
                        </ul>

                    </section>

                    <section>

                        <h2><a href="http://www.vagrantup.com/blog/feature-preview-vagrant-1-5-share.html">Vagrant Share</a></h2>
                        <h3><a href="https://vagrantcloud.com/shares">Vagrant Share</a></h3>
                        <ul>
                            <li>remote instance sharing</li>
                            <li><pre><code data-trim contendeditable>
vagrant share
vagrant share --ssh
                            </code></pre></li>
                            <li><pre><code data-trim contendeditable>
vagrant connect host-string
                            </code></pre></li>
                        </ul>

                    </section>

                    <section>

                        <h2><a href="https://vagrantcloud.com/boxes">Box Distribution</a></h2>
                        <ul>
                            <li>update boxes</li>
                            <li>distribute boxes</li>
                            <li>collaborate on boxes</li>
                        </ul>
                        <pre><code data-trim contendeditable>
vagrant box update hashicorp/percise64
                        </code></pre>

                    </section>

                    <section>

                        <h2><a href="https://vagrantcloud.com/discover/popular">Box Discovery</a></h2>
                        <p>
                            Allows for you to discover and use Boxes.
                        </p>
                        <pre><code data-trim contendeditable>
vagrant box add ubuntu/trusty64
                        </code></pre>

                    </section>

                </section>


                <section>

                    <section>

                        <h1>Why I Use Vagrant</h1>

                    </section>

                    <section>

                        <h2>Why?</h2>
                        <ul>
                            <li>configurations are portable artifacts</li>
                            <li>ties into existing provisioners and their configurations</li>
                            <ul>
                                <li>ansible</li>
                            </ul>
                            <li>easy to revert to a known state</li>
                            <li>easy to share with co-workers</li>
                            <br />
                            <li>with enough RAM you can spin up a system of virtual machines</li>
                            <ul>
                                <li>development</li>
                                <li>testing</li>
                            </ul>
                            <br />
                            <li>prototyping</li>
                        </ul>

                    </section>

                </section>


                <section>

                    <section>

                        <h1>Hello, Vagrant!</h1>
                        <h3>Single Machine</h3>

                    </section>

                    <section>

                        <p>Let's take a deeper dive into the first demo and start poking around.</p>

                    </section>

                    <section>

                        <h3>Demo 2</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
cd Demo2
bash ./run_demo.sh
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
grep -v '#' Vagrantfile
                                </code>
                            </pre>
                        </p>
                        <ul>
                            <li>minimal (cat for examples)</li>
                            <li>nat networking by default</li>
                        </ul>

                    </section>

                    <section>

                        <h3>Status</h3>
                        <p>
                            Status of project local Vagrant instances.
                        </p>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant status
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <h3>Global-Status</h3>
                        <p>
                            Status of global Vagrant Instances.
                        </p>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant global-status
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <h3>up | suspend | resume | halt</h3>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant up
                                </code>
                            </pre>
                        </p>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant suspend
                                </code>
                            </pre>
                        </p>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant resume
                                </code>
                            </pre>
                        </p>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant halt
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <h3>ssh</h3>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant ssh
                                </code>
                            </pre>
                        </p>

                        <p>
                            Redirects ssh requests on a localhost port (example: localhost:2222 to 22 of the instance) to the instance. It is helpful to know this if you are doing an rsync from a script.
                        </p>

                    </section>

                    <section>

                        <h3>destroy</h3>
                        <p>
                            Terminate the running instance and instance files keeping the configuration.
                        </p>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant destroy
                                </code>
                            </pre>
                        </p>

                        <h3>Clean-Up Demo 2</h3>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
bash ./cleanup_demo.sh
                                </code>
                            </pre>
                        </p>

                    </section>

                </section>


                <section>

                    <section>
                        <h1>Hello, Vagrants!</h1>
                        <h3>Multi Machine</h3>
                    </section>

                    <section>

                        <h3>Demo 3</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
cd Demo3
bash ./run_demo.sh
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
grep -v '#' Vagrantfile
                                </code>
                            </pre>
                        </p>
                        <ul>
                            <li>centos 6.5 box</li>
                            <li>multiple hosts</li>
                            <li>added private networking</li>
                            <li>VM naming customizations</li>
                            <li>provisions via ansible</li>
                        </ul>

                    </section>

                    <section>

                        <h3>address instances</h3>

                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant destroy -f server0
vagrant up server0
vagrant provision server0
vagrant ssh server0
                                </code>
                            </pre>
                        </p>

                        <p>
                            You are able to directly interact with instances.
                        </p>

                    </section>

                    <section>

                        <h3>Clean-Up Demo 3</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
bash ./cleanup_demo.sh
                                </code>
                            </pre>
                        </p>

                    </section>

                </section>


                <section>

                    <section>

                       <h1>Picking and Packing</h1>
                       <h3>Boxes</h3>

                    </section>

                    <section>

                        <p>We are going to create a CentOS 7 Box</p>

                    </section>

                    <section>

                        <h3>Install the OS</h3>
                        <ul>
                            <li>create a VM in VirtualBox named "centos7" of type Linux/Redhat 64 bit</li>
                            <li>set ram to 512 MB</li>
                            <li>create a dynamically allocated VDI disk of 32 GB</li>
                            <li>disable floppy</li>
                            <li>disable audio</li>
                            <li>disable usb</li>
                            <br />
                            <li>install OS</li>
                            <li>enable networking</li>
                            <li>root (pw: vagrant)</li>
                            <li>create vagrant user as an admin (pw: vagrant)</li>
                        </ul>

                    </section>

                    <section>

                        <h3>Create the Vagrant User</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
sudo yum install wget -y
wget 'https://raw.githubusercontent.com/mitchellh/vagrant/master/keys/vagrant.pub'
mkdir .ssh
mv vagrant.pub .ssh/authorized_keys
chmod 600 .ssh/authorized_keys
sudo visudo
sudo vi /etc/ssh/sshd_config # Modify UseDNS from yes to no
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <h3>Install VirtualBox Guest Tools</h3>
                        <p>
                            Sadly installing the requirements for VirtualBox Guest Tools is broken for CentOS 7.
                        </p>

                    </section>

                    <section>

                        <h3>Create the Box</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant package --base centos7 --output centos7.box
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <h3>Import the Box</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant box list
vagrant box add centos7 centos7.box
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <h3>Use the Box</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
vagrant init centos7
vagrant up # error expected
vagrant ssh
vagrant destroy -f
                                </code>
                            </pre>
                        </p>

                    </section>

                    <section>

                        <h3>Clean-Up Demo 4</h3>
                        <p>
                            <pre>
                                <code data-trim contendeditable>
bash ./cleanup_demo.sh
                                </code>
                            </pre>
                        </p>

                    </section>

                </section>


                <section>

                    <section>
                        <h2>Something More Complex</h2>
                    </section>

                    <section>

                        <p>
                            Talk about the system I set up at the beginning of a project.
                        </p>
                        <ul>
                            <li>riak-cs</li>
                            <li>mysql</li>
                            <li>node.js( x2)</li>
                            <li>nginx</li>
                        </ul>

                    </section>

                </section>


                <section>

                    <section>

                        <h2>Beyond Vagrant</h2>

                    </section>

                    <section>

                        <h2><a href="http://kitchen.ci/">KitchenCI</a></h2>
                        <p>Automated unit testing of systems.</p>
                        <p>Needs more investigation.</p>

                    </section>

                </section>


                <section>

                    <h2>goals review</h2>
                    <ul>
                        <li>Meet Vagrant</li>
                        <li>VagrantCloud</li>
                        <li>How I use Vagrant</li>
                        <li>Hello, Vagrant!</li>
                        <li>Hello, Vagrants!</li>
                        <li>Picking and Packing Boxes</li>
                        <li>Something More Complex</li>
                        <li>Beyond Vagrant</li>
                    </ul>

                </section>


                <section>

                   <h2>Questions/Comments/Praise</h2>
                   <p>
                       Richard Isaacson / richard.c.isaacson@gmail.com
                   </p>
                   <p>
                       <a href="http://github.com/risaacson/presentations">http://github.com/risaacson/presentations</a>
                   </p>
                   <p>
                       <a href="http://presentations.recycledthoughts.org">http://presentations.recycledthoughts.org</a>
                       </p>
                   <p>
                        github.com: <a href="https://github.com/risaacson">@risaacson</a>
                    </p>
                    <h1>Thank you!</h1>

                </section>


            </div>

        </div>

        <script src="/lib/js/head.min.js"></script>
        <script src="/js/reveal.min.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

                // Parallax scrolling
                // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
                // parallaxBackgroundSize: '2100px 900px',

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: '/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: '/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: '/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: '/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: '/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: '/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
                ]
            });

        </script>

    </body>
</html>
